@import 'base.less';
@import 'grid/order.less';

@ui--grid-column-count: 12;
@ui--grid-horizontal-gutter: 20px;
@ui--grid-vertical-gutter: 30px;

.mx-private__grid-cancel-horizontal-gutters() {
	padding-left: 0 !important;
	padding-right: 0 !important;
}

.mx-private__grid-cancel-vertical-gutters() {
	padding-top: 0 !important;
	padding-bottom: 0 !important;
}

.mx-private__grid-apply-rules-to-columns-with-prefix(@column-prefix, @ruleset) {
	> [class*="@{column-prefix}"] {
		@ruleset();
	}
}

.mx-private__grid-apply-rules-to-columns-with-prefix(@column-prefix, @ruleset) when (@column-prefix = all) {
	> [class*="col"] {
		@ruleset();
	}
}

.grid {
	padding-left: @ui--grid-horizontal-gutter / 2;
	padding-right: @ui--grid-horizontal-gutter / 2;
}

.row {
	display: flex;
	flex-wrap: wrap;

	margin-left: -1 * @ui--grid-horizontal-gutter / 2;
	margin-right: -1 * @ui--grid-horizontal-gutter / 2;

	&.row--no-gutters {
		.mx-private__grid-apply-rules-to-columns-with-prefix(
			all,
			{
				.mx-private__grid-cancel-horizontal-gutters();
				.mx-private__grid-cancel-vertical-gutters();
			}
		);
	}

	&.row--no-horizontal-gutters {
		.mx-private__grid-apply-rules-to-columns-with-prefix(
			all,
			.mx-private__grid-cancel-horizontal-gutters()
		);
	}

	&.row--no-vertical-gutters {
		.mx-private__grid-apply-rules-to-columns-with-prefix(
			all,
			.mx-private__grid-cancel-vertical-gutters()
		);
	}

	@import 'grid/col.less';
	@import 'grid/offset.less';
}

