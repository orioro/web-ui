

/**
 * Iterates nth times applying rulesets
 */
.mx__util-nth-classes(@prefix, @ruleset, @total, @current: 1, @append: false) when (@current <= @total) {
	@output: if(
		@append = append,
		{
			&.@{prefix}-@{current} {
				@ruleset();
			}
		},
		{
			.@{prefix}-@{current} {
				@ruleset();
			}
		}
	);

	@output();

	.mx__util-nth-classes(@prefix, @ruleset, @total, @current + 1, @append);
}
